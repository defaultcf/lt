<!DOCTYPE html>
<html>
<head>
  {% include head.html %}
  <style>
    @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
    @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
    @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

    body { font-family: 'Droid Serif'; }
    h1, h2, h3 {
      font-family: 'Yanone Kaffeesatz';
      font-weight: normal;
    }
    .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
  </style>
</head>
<body>
  <textarea id="source">
{{ content }}
  </textarea>

  <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
  <script src="https://unpkg.com/mermaid@8.8.4/dist/mermaid.min.js"></script>
  <script>
    const slideshow = remark.create();

    mermaid.initialize({ startOnLoad: true, cloneCssStyles: false });
    const initMermaid = s => {
      const diagrams = document.querySelectorAll('.mermaid');
      diagrams.forEach(diagram => {
        if (diagram.offsetWidth > 0)
          mermaid.init(undefined, diagrams);
      });
    };
    slideshow.on('afterShowSlide', initMermaid);
    initMermaid(slideshow.getSlides()[slideshow.getCurrentSlideIndex()]);
  </script>
</body>
</html>
